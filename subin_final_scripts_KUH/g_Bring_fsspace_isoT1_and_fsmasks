#!/bin/bash
# This code runs in vmware

export FREESURFER_HOME=/usr/local/freesurfer
source $FREESURFER_HOME/SetUpFreeSurfer.sh

SUBJECTS_DIR=/home/subin/Desktop/NAS_mnt/KUH/1_InitialTry/3_0_reconall_outputs
fsspace_t1_dir=/home/subin/Desktop/NAS_mnt/KUH/1_InitialTry/3_1_t1_isonii_fsspace
fsspace_mask_dir=/home/subin/Desktop/NAS_mnt/KUH/1_InitialTry/3_2_fsmasks_fsspace

for subj in BBB_19 BBB_21 BBB_22 BBB_23 BBB_25 BBB_26 BBB_27 BBB_28 BBB_29 BBB_30 BBB_31 BBB_32 BBB_33 BBB_54 BBB_62 BBB_64 BBB_69 BBB_72 BBB_73 HY04 HY11 HY32 KK28 KK31 #QSM001 QSM004 QSM008 QSM009 QSM010 QSM012 QSM018 QSM032 QSM037 QSM038 QSM039 QSM040 QSM041 QSM042 QSM046 QSM049 QSM051 QSM053 QSM055 QSM057 QSM063 QSM070 QSM071 QSM075 QSM077 QSM078 QSM079 QSM082 QSM083 QSM086 QSM087 QSM092 QSM095 QSM100 QSM101 QSM103 QSM105 QSM108 QSM109 QSM113 QSM119 QSM120 QSM121 QSM123 QSM125 QSM126 QSM148 QSM149 QSM150 QSM152 QSM153 QSM155 QSM161 QSM162 QSM164 QSM166 QSM167 QSM169 QSM173 QSM175 QSM178 QSM181 QSM183 QSM184 QSM185 QSM189 QSM191 QSM195 QSM199 QSM201 QSM210 QSM211 QSM213 QSM222 QSM225 QSM228 QSM230 QSM231 QSM238 QSM242 QSM243 QSM248 QSM249 QSM251 QSM252 QSM262 QSM274 QSM275 QSM277 QSM280 QSM281 QSM282 QSM283 QSM284 QSM290 QSM292 QSM301 QSM302 QSM303 QSM304 QSM308 QSM309 QSM310 QSM314 QSM315 QSM316 QSM323 QSM324 QSM325 QSM329 QSM330 QSM333 QSM334 QSM343 QSM344 QSM345 QSM346
# 

	do
	cd $SUBJECTS_DIR/$subj/mri
	if [ -f "orig.mgz" ]; then
    		mri_convert -i orig.mgz -o $subj"_isoT1_fs".nii
		mv $subj"_isoT1_fs".nii $fsspace_t1_dir
	else 
	    	echo "orig.mgz does not exist."
	fi


	if [ -f "wmparc.mgz" ]; then
		mri_convert -i wmparc.mgz -o $subj"_wmparc_fs".nii
		mv $subj"_wmparc_fs".nii $fsspace_mask_dir
	else 
	    	echo "wmparc.mgz does not exist."
	fi

	
	
	

done
